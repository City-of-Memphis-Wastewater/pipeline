<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EDS API: Architecture</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">EDS API
   </div>
   <div id="projectbrief">Enterprise Data Server Application Programming Interface</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('architecture.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Architecture</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="architecture_overview"></a>
Overview</h1>
<p>EDS API is designed to support a wide range of EDS versions without having to recompile client applications.</p>
<p>To satisfy this requirement the API is split into two layers:</p><ul>
<li><a class="el" href="#frontend">Frontend library</a> - a set of C++ classes (provided as source code), which provide a stable API and delegate calls to backend libraries</li>
<li><a class="el" href="#backend">Backend libraries</a> - precompiled dynamic libraries which implement the network protocol of specific EDS server versions.</li>
</ul>
<h1><a class="anchor" id="frontend"></a>
Frontend library</h1>
<p>The EDS API frontend library is shipped in source code form in the <code>edsapi/include</code> and <code>edsapi/src</code> directories. These files form a shim layer which automatically handles loading of appropriate backend libraries and masks differences between internal EDS interfaces.</p>
<p>The two main classes implemented in the frontend are <a class="el" href="classeds_1_1live_1_1_live_client.html">eds::live::LiveClient</a> and <a class="el" href="classeds_1_1arch_1_1_arch_client.html">eds::arch::ArchClient</a>.</p>
<p>When an instance of a client class is created, its constructor will load the backend specified in the <code>version</code> argument using <code>LoadLibrary</code> function on Windows and <code>dlopen</code> on Linux. The specified backend library and its dependencies should be located in one of the standard search paths defined by the operating system. More information on the topic is provided in the <a class="el" href="search_paths.html">Search paths for backend libraries</a> page.</p>
<p>If the frontend is unable to find the backend library, an <a class="el" href="classeds_1_1_backend_not_found_error.html">eds::BackendNotFoundError</a> exception will be thrown.</p>
<p>Once the backend is successfully loaded, the client class will scan the list of functions exported by the backend and build a registry of supported API features. The lookup of backend functions is performed with <a href="https://docs.microsoft.com/en-us/windows/desktop/api/libloaderapi/nf-libloaderapi-getprocaddress">GetProcAddress</a> on Windows and <code>dlsym</code> on Linux.</p>
<p>If the backend does not implement a function (which may happen because the feature was unsupported by that EDS release), <a class="el" href="classeds_1_1live_1_1_live_client.html">eds::live::LiveClient</a> and <a class="el" href="classeds_1_1arch_1_1_arch_client.html">eds::arch::ArchClient</a> constructors will internally mark the feature as unavailable, but will <em>not</em> report an error immediately. The error will be thrown only when the application calls a client's method that actually depends on the missing feature. Therefore, client classes in the frontend library implement late binding between application code and EDS backends.</p>
<p>To determine which client features are supported by a particular backend, consult the documentation of <a class="el" href="classeds_1_1live_1_1_live_client.html">eds::live::LiveClient</a> and <a class="el" href="classeds_1_1arch_1_1_arch_client.html">eds::arch::ArchClient</a>. The <b>Since</b> clause listed for each of their methods describes the minimum backend version which implements the call.</p>
<p>Once an instance of <a class="el" href="classeds_1_1live_1_1_live_client.html">eds::live::LiveClient</a> of <a class="el" href="classeds_1_1arch_1_1_arch_client.html">eds::arch::ArchClient</a> is constructed, calling any of its methods will perform the following steps:</p><ol type="1">
<li>Verify that the loaded backend supports the feature (i.e. exports neccessary functions). If a required backend feature is missing, <a class="el" href="classeds_1_1_unsupported_function_error.html">eds::UnsupportedFunctionError</a> exception will be thrown.</li>
<li>If needed, convert method arguments into a format that is required by the backend.</li>
<li>Call appropriate backend function(s).</li>
<li>Verify that the backend call was successful. If an error is reported by the backend function, it will be converted into a C++ exception:<ul>
<li><a class="el" href="classeds_1_1live_1_1_live_client.html">eds::live::LiveClient</a> will throw an <a class="el" href="classeds_1_1live_1_1_live_client_error.html">eds::live::LiveClientError</a></li>
<li><a class="el" href="classeds_1_1arch_1_1_arch_client.html">eds::arch::ArchClient</a> will throw an <a class="el" href="classeds_1_1arch_1_1_arch_client_error.html">eds::arch::ArchClientError</a></li>
</ul>
</li>
</ol>
<p>For more information on integrating the frontend into an application, please visit the <a class="el" href="integrating_frontend.html">Integrating EDS API frontend</a> page.</p>
<p> 
Please refer to the <a class="el" href="annotated.html">API reference</a>
for a detailed description of frontend's client classes.
</p>
<h1><a class="anchor" id="backend"></a>
Backend libraries</h1>
<p>The EDS API backend libraries are shipped in binary form in <code>edsapi/backend</code> subdirectories. Each of these directories contains one or more dynamic libraries (<code>.dll</code> files on Windows, <code>.so</code> files on Linux), which implement the client protocol of a specific EDS version.</p>
<p>When a major release of EDS is made, a new set of backend libraries is added to EDS API. The libraries have a consistent naming pattern, where <code>X</code> is the major EDS version and <code>Y</code> is the minor version.</p><ul>
<li>edsapi_live_<code>X</code>_<code>Y</code> - implementation of network protocol for <a class="el" href="classeds_1_1live_1_1_live_client.html" title="Live data client.">eds::live::LiveClient</a> class,</li>
<li>edsapi_arch_<code>X</code>_<code>Y</code> - implementation of network protocol for <a class="el" href="classeds_1_1arch_1_1_arch_client.html" title="Archive data client.">eds::arch::ArchClient</a> class,</li>
<li>edsapi_loggereds_<code>X</code>_<code>Y</code> - logging facilities, shared by live and arch backends,</li>
<li>edsapi_sqlite_drveds2_<code>X</code>_<code>Y</code> - SQLite database driver, required by the live backend in some EDS versions.</li>
</ul>
<dl class="section warning"><dt>Warning</dt><dd>The names of backend libraries must not be changed. EDS API frontend will be unable to load a library if it doesn't follow the convention described above.</dd></dl>
<p>In order to connect from your application to a specific version of EDS server, all library files from appropriate <code>edsapi/backend</code> subdirectory need to be shipped as part of that application.</p>
<p>The EDS API frontend will try to dynamically load these backend libraries at runtime. Please make sure, that backend libraries are placed in a directory which is searched by the dynamic library loader. The recommended locations for these libraries are listed in <a class="el" href="search_paths.html">Search paths for backend libraries</a>.</p>
<dl class="section warning"><dt>Warning</dt><dd>Please do not link your application with backend libraries or call any of the their functions directly! The list of symbols exported from these files may change between EDS versions. The only supported method of using EDS API functions is through the <a class="el" href="#frontend">Frontend library</a>. </dd></dl>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">EDS API</a></li>
    <li class="footer">Generated on Tue Dec 17 2024 18:16:15 for EDS API by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.0 </li>
  </ul>
</div>
</body>
</html>
