<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EDS API: Connecting to EDS Online Server</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">EDS API
   </div>
   <div id="projectbrief">Enterprise Data Server Application Programming Interface</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('live_connection.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Connecting to EDS Online Server</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ol type="1">
<li><p class="startli">To access live point data on EDS Online Server, applications must first create an instance of <a class="el" href="classeds_1_1live_1_1_live_client.html">eds::live::LiveClient</a>.</p>
<p class="startli">The class is declared in the <a class="el" href="_live_client_8h.html">LiveClient.h</a> header, which should be available to the application, provided that the steps described in the <a class="el" href="integrating_frontend.html#configuring_headers">Configuring EDS API headers</a> section were completed.</p>
<p class="startli">In the application code, add the following <code>#include</code> directive: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_live_client_8h.html">LiveClient.h</a>&gt;</span></div>
<div class="ttc" id="a_live_client_8h_html"><div class="ttname"><a href="_live_client_8h.html">LiveClient.h</a></div><div class="ttdoc">Client for live data.</div></div>
</div><!-- fragment --></li>
<li>Most of the classes are located in the <a class="el" href="namespaceeds.html">eds</a> and <a class="el" href="namespaceeds_1_1live.html">eds::live</a> namespaces. You may choose to make their contents available by default: <div class="fragment"><div class="line"><span class="comment">// Common types are defined in eds namespace</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespaceeds.html">eds</a>;</div>
<div class="line"><span class="comment">// LiveClient is in eds::live namespace</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespaceeds_1_1live.html">eds::live</a>;</div>
<div class="ttc" id="anamespaceeds_1_1live_html"><div class="ttname"><a href="namespaceeds_1_1live.html">eds::live</a></div><div class="ttdoc">Namespace for all live client related classes.</div><div class="ttdef"><b>Definition</b> LiveClient.h:34</div></div>
<div class="ttc" id="anamespaceeds_html"><div class="ttname"><a href="namespaceeds.html">eds</a></div><div class="ttdoc">Main namespace containing all EDS API definitions.</div><div class="ttdef"><b>Definition</b> ArchClient.h:25</div></div>
</div><!-- fragment --></li>
<li><p class="startli">Create an instance of the <a class="el" href="classeds_1_1live_1_1_live_client.html">eds::live::LiveClient</a> class. </p><div class="fragment"><div class="line">std::unique_ptr&lt;LiveClient&gt; client;</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">try</span></div>
<div class="line">{</div>
<div class="line">  client = std::unique_ptr&lt;LiveClient&gt;(<span class="keyword">new</span> <a class="code hl_class" href="classeds_1_1live_1_1_live_client.html">LiveClient</a>(version));</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code hl_class" href="classeds_1_1_backend_not_found_error.html">BackendNotFoundError</a>&amp; exc)</div>
<div class="line">{</div>
<div class="line">  <span class="comment">// Couldn&#39;t load backend. Requested version might be incorrect,</span></div>
<div class="line">  <span class="comment">// or the &#39;edsapi_live_*&#39; library might be missing.</span></div>
<div class="line">}</div>
<div class="ttc" id="aclasseds_1_1_backend_not_found_error_html"><div class="ttname"><a href="classeds_1_1_backend_not_found_error.html">eds::BackendNotFoundError</a></div><div class="ttdoc">Backend not found exception class.</div><div class="ttdef"><b>Definition</b> Errors.h:39</div></div>
<div class="ttc" id="aclasseds_1_1live_1_1_live_client_html"><div class="ttname"><a href="classeds_1_1live_1_1_live_client.html">eds::live::LiveClient</a></div><div class="ttdoc">Live data client.</div><div class="ttdef"><b>Definition</b> LiveClient.h:130</div></div>
</div><!-- fragment --><p class="startli">The <code>version</code> argument should match the version of the Online Server which will be used. It is specified as a string with <code>major.minor</code> format (e.g. "9.2").</p>
<p class="startli">Note that the code is wrapped in a <code>try/catch</code> statement. The constructor may throw an <a class="el" href="classeds_1_1_backend_not_found_error.html">eds::BackendNotFoundError</a> exception if the required backend library cannot be found.</p>
<p class="startli">To prevent these errors, make sure that backend libraries are correctly deployed with the application. For more information on recommended locations for the backend files, see <a class="el" href="search_paths.html">Search paths for backend libraries</a>.</p>
<p class="startli">The code in this example uses <code>std::unique_ptr</code> to ensure that the client is correctly released once the variable goes out of scope. If C++11 is unavailable, it is recommended to use an alternative type (e.g. <code>std::auto_ptr</code>) to manage lifetime of pointers returned from EDS API.<br  />
 <a class="el" href="classeds_1_1live_1_1_live_client.html" title="Live data client.">eds::live::LiveClient</a> uses exceptions to report errors, so applications which call its methods should ensure that their code is exception-safe.</p>
</li>
<li><p class="startli">Initialize a connection to Online Server</p>
<p class="startli">Since EDS version 9.2, connections to Online Server can be established using two authentication methods:</p><ul>
<li>login and password,</li>
<li>RSA key.</li>
</ul>
<p class="startli">The live client in EDS API provides methods for connecting with both credential types:</p><ul>
<li><a class="el" href="classeds_1_1live_1_1_live_client.html#a30a1efaeabceb0377998fcaeb2318711" title="Initializes connection to a live server with login and password as credentials.">eds::live::LiveClient::initializeAsUser</a> - authenticate with login/password</li>
<li><a class="el" href="classeds_1_1live_1_1_live_client.html#a50e21fe15b65895d57ab8ff3e920ac3a" title="Initializes connection to a live server with key pair as credentials.">eds::live::LiveClient::initializeAsAgent</a> - authenticate with RSA key</li>
</ul>
<p class="startli">This tutorial uses the latter method. </p><div class="fragment"><div class="line"><span class="keywordflow">try</span></div>
<div class="line">{</div>
<div class="line">  client-&gt;initializeAsAgent(AccessMode_ReadWrite,</div>
<div class="line">                            <span class="stringliteral">&quot;edsapi_test&quot;</span>,       <span class="comment">// arbitrary application identifier</span></div>
<div class="line">                            <span class="stringliteral">&quot;test_instance&quot;</span>,     <span class="comment">// name of application instance</span></div>
<div class="line">                            <span class="stringliteral">&quot;0.0.0.0&quot;</span>,           <span class="comment">// bind to all local interfaces</span></div>
<div class="line">                            0,                   <span class="comment">// bind to any local port</span></div>
<div class="line">                            online_server_host,</div>
<div class="line">                            online_server_port,</div>
<div class="line">                            50);</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code hl_class" href="classeds_1_1live_1_1_live_client_error.html">LiveClientError</a>&amp; exc)</div>
<div class="line">{</div>
<div class="line">  <span class="comment">// Handle the error (display an error message, etc).</span></div>
<div class="line">  printf(</div>
<div class="line">    <span class="stringliteral">&quot;Couldn&#39;t initialize live client connection object (%s)\n&quot;</span>,</div>
<div class="line">    exc.what());</div>
<div class="line">}</div>
<div class="ttc" id="aclasseds_1_1live_1_1_live_client_error_html"><div class="ttname"><a href="classeds_1_1live_1_1_live_client_error.html">eds::live::LiveClientError</a></div><div class="ttdoc">Thrown when backend library returns an error.</div><div class="ttdef"><b>Definition</b> LiveClient.h:997</div></div>
</div><!-- fragment --><p class="startli">The client can be configured to allow reading, writing or both types of operations on point values. Requested mode is specified in the first argument.</p>
<p class="startli">The <code>program_name</code> and <code>instance_name</code> arguments are used for authentication. Values of these parameters are associated with a specific RSA key and can be used to identify applications which are connecting to EDS Server. This key is generated by the EDS API client during the first connection and stored in current user's "home" directory:</p><ul>
<li><code>%APPDATA%\EDS\&lt;eds version&gt;\&lt;program_name&gt;\keys\&lt;instance_name&gt;</code> on Windows,</li>
<li><code>$HOME/.eds/&lt;eds version&gt;/&lt;program_name&gt;/.keys/&lt;instance_name&gt;</code> on Linux.</li>
</ul>
<p class="startli">The client will authenticate with this key as long as it's initialized with the same <code>program_name</code> and <code>instance_name</code> arguments.</p>
<p class="startli">API backends for older EDS versions must instead use the legacy <a class="el" href="classeds_1_1live_1_1_live_client.html#a5875940c5ff34b50a6ac621c88fa8ffc">eds::live::LiveClient::init</a> method to initialize connection. The method is still supported by the 9.2 backend.</p>
<p class="startli">Depending on the number of points on the server, initialization may take several seconds or minutes to complete. Live client has to synchronize its local list of points with the server before the connection is ready to use.</p>
</li>
<li>The connection will be automatically closed by the destructor of <a class="el" href="classeds_1_1live_1_1_live_client.html" title="Live data client.">eds::live::LiveClient</a> object. Alternatively, the <a class="el" href="classeds_1_1live_1_1_live_client.html#ab153d6fabc966456e0bd64b2f47b0c2c" title="Closes connection to Server.">eds::live::LiveClient::shut</a> method can be used to manually close the connection. </li>
</ol>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">EDS API</a></li><li class="navelem"><a class="el" href="tutorial.html">Tutorial</a></li>
    <li class="footer">Generated on Tue Dec 17 2024 18:16:15 for EDS API by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.0 </li>
  </ul>
</div>
</body>
</html>
